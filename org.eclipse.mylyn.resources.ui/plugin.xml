<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>
 
   <extension-point id="changeMonitoring" name="Resource Change Monitorin" schema="schema/changeMonitoring.exsd"/>
 
   <extension point="org.eclipse.ui.preferencePages">
      <page 
         name="Resources"
         class="org.eclipse.mylyn.internal.resources.ui.preferences.FocusedResourcesPreferencePage"
         id="org.eclipse.mylyn.resources.preferences.resources"
         category="org.eclipse.mylyn.ui.preferences">
         <keywordReference id="org.eclipse.mylyn.resources.keywords"/>
      </page> 
   </extension>
   
   <extension
   		point="org.eclipse.ui.keywords">
      <keyword
            label="mylyn resources"
            id="org.eclipse.mylyn.resources.keywords"/>
   </extension>
  
    <extension
         point="org.eclipse.mylyn.resources.ui.changeMonitoring">
		<exclude
         	pattern=".*"/>
   </extension>
 
   <extension
         point="org.eclipse.mylyn.context.core.bridges">
      <structureBridge
            class="org.eclipse.mylyn.internal.resources.ui.ResourceStructureBridge"
            name="Resource Structure Bridge"/> 
   </extension>
   
   <extension
         point="org.eclipse.mylyn.context.ui.bridges">
      <uiBridge
            class="org.eclipse.mylyn.internal.resources.ui.ResourceUiBridge"
            contentType="resource"/>
      <labelProvider
            class="org.eclipse.mylyn.internal.resources.ui.ResourceContextLabelProvider"
            contentType="resource"/>
      <preservedFilters
			viewId="org.eclipse.ui.navigator.ProjectExplorer">
			<filter
				id="org.eclipse.mylyn.resources.ui.navigator.filters.tasks">
			</filter>
	  </preservedFilters>
   </extension>

   	<extension point="org.eclipse.ui.navigator.viewer">
		<viewerContentBinding
			viewerId="org.eclipse.ui.navigator.ProjectExplorer">
			<includes>
				<contentExtension
					pattern="org.eclipse.mylyn.resources.ui.navigator.filters.*" />
			</includes>
		</viewerContentBinding>
	</extension>
   
   	<extension point="org.eclipse.ui.navigator.navigatorContent">
		<commonFilter
			id="org.eclipse.mylyn.resources.ui.navigator.filters.tasks"
			name="Task List Elements (Recommended)"
			description="Hides Task List Elements from Common Navigators" 
			activeByDefault="true">
			<filterExpression>
				<instanceof
					value="org.eclipse.mylyn.tasks.core.AbstractTaskContainer" />
			</filterExpression>
		</commonFilter>
	</extension>

   <extension point="org.eclipse.core.runtime.preferences">
      <initializer class="org.eclipse.mylyn.internal.resources.ui.ResourcesUiPreferenceInitializer"/>
   </extension>
   
   
   <!--
   <extension
         point="org.eclipse.ui.navigator.viewer">
       <dragAssistant
             class="org.eclipse.ui.navigator.resources.ResourceDragAdapterAssistant"
             viewerId="org.eclipse.mylyn.context.ui.navigator.context"/>
   </extension>
   -->
   
   <extension point = "org.eclipse.ui.popupMenus">
     <objectContribution
           adaptable="true"
           id="org.eclipse.mylyn.ui.interest"
           objectClass="org.eclipse.core.resources.IResource">
        <action
              class="org.eclipse.mylyn.internal.context.ui.actions.InterestDecrementAction"
              definitionId="org.eclipse.mylyn.context.ui.commands.interest.decrement"
              enablesFor="*"
              icon="icons/elcl16/interest-decrease.gif"
              id="org.eclipse.mylyn.resources.ui.interest.remove.element"
              label="Remove from Context"
              menubarPath="group.reorganize"
              tooltip="Mark selected element as uninteresting">
           <enablement>
              <systemProperty
                    name="org.eclipse.mylyn.context.core.context.active"
                    value="true">
              </systemProperty>
           </enablement>
        </action>
     </objectContribution>
     <objectContribution
     	adaptable="false"
        id="org.eclipse.mylyn.ui.interest"
        objectClass="org.eclipse.core.resources.IFile">
	    <action
           class="org.eclipse.mylyn.internal.context.ui.actions.InterestIncrementAction"
           definitionId="org.eclipse.mylyn.context.ui.commands.interest.increment"
           enablesFor="*"
           icon="icons/elcl16/interest-increase.gif"
           id="org.eclipse.mylyn.resources.ui.interest.increase.element"
           label="Mark as Landmark"
           menubarPath="group.reorganize"
           tooltip="Make selected element a landmark">
        <enablement>
           <systemProperty
                 name="org.eclipse.mylyn.context.core.context.active"
                 value="true">
           </systemProperty>
        </enablement>
     </action>
	 </objectContribution>
   </extension>
</plugin>
